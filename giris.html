<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GiriÅŸ/KayÄ±t - Medikal Estetik AtlasÄ±</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body class="auth-page">
    <div class="auth-container">
        <div class="auth-box">
            <h1>Medikal Estetik AtlasÄ±</h1>
            <p class="subtitle">HesabÄ±nÄ±za giriÅŸ yapÄ±n veya yeni hesap oluÅŸturun</p>

            <!-- Sekmeler -->
            <div class="auth-tabs">
                <button class="tab-btn active" onclick="switchTab('giris')">GiriÅŸ</button>
                <button class="tab-btn" onclick="switchTab('kayit')">KayÄ±t Ol</button>
            </div>

            <!-- GiriÅŸ Formu -->
            <form id="girisForm" class="auth-form">
                <div class="form-group">
                    <label>E-posta</label>
                    <input type="email" id="girisEmail" required placeholder="ornek@mail.com">
                </div>
                <div class="form-group">
                    <label>Åžifre</label>
                    <input type="password" id="girisSifre" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                </div>
                <button type="submit" class="btn-primary">GiriÅŸ Yap</button>
                <p id="girisHata" class="error-msg"></p>
            </form>

            <!-- KayÄ±t Formu -->
            <form id="kayitForm" class="auth-form" style="display:none;">
                <div class="form-group">
                    <label>Hesap Tipi *</label>
                    <select id="kayitRol" required onchange="rolFormGoster()">
                        <option value="">SeÃ§iniz...</option>
                        <option value="firma">Firma/TedarikÃ§i</option>
                        <option value="doktor">Doktor/Hekim</option>
                    </select>
                    <small>KullanÄ±cÄ±lar sadece doktor veya firma olarak kayÄ±t olabilir</small>
                </div>

                <!-- Firma iÃ§in ek alanlar -->
                <div id="firmaAlanlar" style="display:none;">
                    <div class="form-group">
                        <label>Firma AdÄ± *</label>
                        <input type="text" id="firmaAdi" placeholder="Firma Ltd. Åžti.">
                    </div>
                    <div class="form-group">
                        <label>Vergi No</label>
                        <input type="text" id="vergiNo" placeholder="1234567890">
                    </div>
                </div>

                <!-- Doktor iÃ§in ek alanlar -->
                <div id="doktorAlanlar" style="display:none;">
                    <div class="form-group">
                        <label>Ad Soyad *</label>
                        <input type="text" id="doktorAd" placeholder="Dr. Ahmet YÄ±lmaz">
                    </div>
                    <div class="form-group">
                        <label>Ãœnvan</label>
                        <input type="text" id="doktorUnvan" placeholder="Op. Dr.">
                    </div>
                    <div class="form-group">
                        <label>BranÅŸ *</label>
                        <input type="text" id="doktorBrans" placeholder="Plastik Cerrahi">
                    </div>
                </div>

                <div class="form-group">
                    <label>E-posta *</label>
                    <input type="email" id="kayitEmail" required>
                </div>
                <div class="form-group">
                    <label>Åžifre * (min 6 karakter)</label>
                    <input type="password" id="kayitSifre" required minlength="6">
                </div>
                <div class="form-group">
                    <label>Telefon</label>
                    <input type="tel" id="telefon" placeholder="0555 123 45 67">
                </div>
                
                <button type="submit" class="btn-primary">KayÄ±t Ol</button>
                <p id="kayitHata" class="error-msg"></p>
            </form>

            <p class="auth-info">
                ðŸ”’ Admin giriÅŸi sistem tarafÄ±ndan otomatik olarak yÃ¶netilir. 
                Admin kullanÄ±cÄ±larÄ± Ã¶zel yetkiyle atanÄ±r.
            </p>
        </div>
    </div>

    <script src="/js/auth.js"></script>
    <script>
        // Sekme deÄŸiÅŸtirme
        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            
            if(tab === 'giris') {
                document.getElementById('girisForm').style.display = 'block';
                document.getElementById('kayitForm').style.display = 'none';
            } else {
                document.getElementById('girisForm').style.display = 'none';
                document.getElementById('kayitForm').style.display = 'block';
            }
        }

        // Rol seÃ§imine gÃ¶re form alanlarÄ± gÃ¶ster
        function rolFormGoster() {
            const rol = document.getElementById('kayitRol').value;
            document.getElementById('firmaAlanlar').style.display = rol === 'firma' ? 'block' : 'none';
            document.getElementById('doktorAlanlar').style.display = rol === 'doktor' ? 'block' : 'none';
            
            // Zorunlu alanlarÄ± ayarla
            if(rol === 'firma') {
                document.getElementById('firmaAdi').required = true;
                document.getElementById('doktorAd').required = false;
            } else if(rol === 'doktor') {
                document.getElementById('firmaAdi').required = false;
                document.getElementById('doktorAd').required = true;
            }
        }
    </script>
</body>
</html>